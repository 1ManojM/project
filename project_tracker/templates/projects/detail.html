{% extends "base.html" %}
{% block title %}Project Detail{% endblock %}
{% block content %}
<div class="card shadow-sm mb-3">
  <div class="card-body">
    <h5 class="card-title">{{ project.name }}</h5>
    <p class="mb-1"><strong>Client:</strong> {{ project.client.name }}</p>
    <p class="mb-1"><strong>Manager:</strong> {{ project.manager }}</p>
    <p class="mb-1"><strong>Status:</strong> <span class="badge bg-info">{{ project.get_status_display }}</span></p>
    <p class="mb-0"><strong>Dates:</strong> {{ project.start_date }} â€” {{ project.end_date }}</p>
  </div>
</div>
<div class="card shadow-sm">
  <div class="card-header d-flex justify-content-between align-items-center">
    <span>Tasks</span>
    <a href="{% url 'tasks:create' %}" class="btn btn-sm btn-primary">Add Task</a>
  </div>
  <div class="card-body p-0">
    <table class="table mb-0 table-striped">
      <thead><tr><th>Title</th><th>Assignee</th><th>Status</th><th>Progress</th></tr></thead>
      <tbody>
        {% for t in project.tasks.all %}
          <tr>
            <td><a href="{% url 'tasks:detail' t.id %}">{{ t.title }}</a></td>
            <td>{{ t.assignee }}</td>
            <td>{{ t.get_status_display }}</td>
            <td>{{ t.progress }}%</td>
          </tr>
        {% empty %}
          <tr><td colspan="4" class="text-center p-3">No tasks yet</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
